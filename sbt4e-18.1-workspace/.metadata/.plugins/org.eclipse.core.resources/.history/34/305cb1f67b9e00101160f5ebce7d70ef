/*
 * uart.c
 *
 *  Created on: 1/10/2025
 *      Author: jkim960
 */

#include "uart.h"
#include "system.h"

void uart_tx(char character_to_send) {
    while (!(IORD_ALTERA_AVALON_UART_STATUS(UART_BASE) & ALTERA_AVALON_UART_STATUS_TRDY_MSK)); //wait til ready to transmit
    IOWR_ALTERA_AVALON_UART_TXDATA(UART_BASE, character_to_send);
}

int uart_rx(char * character_to_receive) {
    if (IORD_ALTERA_AVALON_UART_STATUS(UART_BASE) & ALTERA_AVALON_UART_STATUS_RRDY_MSK) { //if data is available
        * character_to_receive = IORD_ALTERA_AVALON_UART_RXDATA(UART_BASE); //store data
        return 1;
    }
    return 0;
}
